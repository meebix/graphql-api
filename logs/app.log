{"name":"teach-learn-api","hostname":"mdonahue.local","pid":81993,"level":30,"port":8080,"env":"development","msg":"Server has been started","time":"2017-09-14T02:20:03.366Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":81993,"level":30,"req":{"query":{},"params":{},"method":"POST","url":"/api/auth/login","headers":{"host":"localhost:8080","connection":"keep-alive","content-length":"38","postman-token":"0193e754-f40c-5af6-c6c0-6504f69c3a57","cache-control":"no-cache","origin":"chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36","content-type":"application/x-www-form-urlencoded","accept":"*/*","dnt":"1","accept-encoding":"gzip, deflate, br","accept-language":"en-US,en;q=0.8,es-419;q=0.6,es;q=0.4,es-MX;q=0.2"},"httpVersion":"1.1"},"res":{"statusCode":200,"headers":{"x-dns-prefetch-control":"off","x-frame-options":"SAMEORIGIN","strict-transport-security":"max-age=15552000; includeSubDomains","x-download-options":"noopen","x-content-type-options":"nosniff","x-xss-protection":"1; mode=block"}},"msg":"start page request","time":"2017-09-14T02:20:06.719Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":81993,"level":30,"uid":"rk4LfTBUqb","msg":"AUTH-CTRL.LOGIN: Found user","time":"2017-09-14T02:20:06.869Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":81993,"level":30,"uid":"rk4LfTBUqb","msg":"AUTH-CTRL.LOGIN: Updating user attributes","time":"2017-09-14T02:20:06.977Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":81993,"level":30,"uid":"rk4LfTBUqb","msg":"AUTH-CTRL.LOGIN: Logging in user","time":"2017-09-14T02:20:07.059Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":81993,"level":30,"responseTime":"345.066347 ms","msg":"end page request","time":"2017-09-14T02:20:07.063Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":81993,"level":30,"req":{"query":{},"params":{},"method":"GET","url":"/api/users","headers":{"host":"localhost:8080","connection":"keep-alive","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiJyazRMZlRCVXFiIiwicm9sZSI6InVzZXIiLCJpYXQiOjE1MDUzNTU2MDcsImV4cCI6MTUwNTM1OTIwN30.veD7eaXZpXpzY0BVydNcZaQSr2K_-Atm02t1NK_dYd4","cache-control":"no-cache","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36","postman-token":"1aca4a03-afcf-9908-2b56-9ac5c0b2e10f","accept":"*/*","dnt":"1","accept-encoding":"gzip, deflate, br","accept-language":"en-US,en;q=0.8,es-419;q=0.6,es;q=0.4,es-MX;q=0.2"},"httpVersion":"1.1"},"res":{"statusCode":200,"headers":{"x-dns-prefetch-control":"off","x-frame-options":"SAMEORIGIN","strict-transport-security":"max-age=15552000; includeSubDomains","x-download-options":"noopen","x-content-type-options":"nosniff","x-xss-protection":"1; mode=block"}},"msg":"start page request","time":"2017-09-14T02:20:16.108Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":81993,"level":30,"responseTime":"7.999926 ms","msg":"end page request","time":"2017-09-14T02:20:16.116Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82088,"level":30,"port":8080,"env":"development","msg":"Server has been started","time":"2017-09-14T02:20:51.362Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82088,"level":30,"req":{"query":{},"params":{},"method":"GET","url":"/api/users","headers":{"host":"localhost:8080","connection":"keep-alive","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiJyazRMZlRCVXFiIiwicm9sZSI6InVzZXIiLCJpYXQiOjE1MDUzNTU2MDcsImV4cCI6MTUwNTM1OTIwN30.veD7eaXZpXpzY0BVydNcZaQSr2K_-Atm02t1NK_dYd4","cache-control":"no-cache","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36","postman-token":"791b7fd4-cd67-4391-a809-b36e43ed782e","accept":"*/*","dnt":"1","accept-encoding":"gzip, deflate, br","accept-language":"en-US,en;q=0.8,es-419;q=0.6,es;q=0.4,es-MX;q=0.2"},"httpVersion":"1.1"},"res":{"statusCode":200,"headers":{"x-dns-prefetch-control":"off","x-frame-options":"SAMEORIGIN","strict-transport-security":"max-age=15552000; includeSubDomains","x-download-options":"noopen","x-content-type-options":"nosniff","x-xss-protection":"1; mode=block"}},"msg":"start page request","time":"2017-09-14T02:20:57.374Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82088,"level":30,"msg":"VERIFY-JWT-MIDDLEWARE: Returning token","time":"2017-09-14T02:20:57.383Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82088,"level":40,"err":{"message":"User is not authorized for this resource: rk4LfTBUqb","name":"Unauthorized","stack":"Unauthorized: User is not authorized for this resource: rk4LfTBUqb\n    at /Users/mike/development/teach-learn-api/src/middleware/verify-access/verify-access.js:37:19\n    at Layer.handle [as handle_request] (/Users/mike/development/teach-learn-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mike/development/teach-learn-api/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/mike/development/teach-learn-api/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/mike/development/teach-learn-api/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mike/development/teach-learn-api/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/mike/development/teach-learn-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/mike/development/teach-learn-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/mike/development/teach-learn-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/mike/development/teach-learn-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/mike/development/teach-learn-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/mike/development/teach-learn-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/mike/development/teach-learn-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/mike/development/teach-learn-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/mike/development/teach-learn-api/node_modules/express/lib/router/index.js:275:10)\n    at jwt.verify (/Users/mike/development/teach-learn-api/src/middleware/verify-jwt/verify-jwt.js:55:14)\n    at Object.module.exports [as verify] (/Users/mike/development/teach-learn-api/node_modules/jsonwebtoken/verify.js:176:10)\n    at /Users/mike/development/teach-learn-api/src/middleware/verify-jwt/verify-jwt.js:42:9\n    at Layer.handle [as handle_request] (/Users/mike/development/teach-learn-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/mike/development/teach-learn-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/mike/development/teach-learn-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/mike/development/teach-learn-api/node_modules/express/lib/router/index.js:335:12)"},"msg":"VERIFY-ACCESS-MIDDLEWARE: User is not authorized for this resource: rk4LfTBUqb","time":"2017-09-14T02:20:57.388Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82088,"level":30,"responseTime":"21.778919 ms","msg":"end page request","time":"2017-09-14T02:20:57.395Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82088,"level":30,"req":{"query":{"confirmToken":"b2ac9cdb32fb2406be2ac353cc9db0d3"},"params":{},"method":"POST","url":"/api/auth/confirm-account?confirmToken=b2ac9cdb32fb2406be2ac353cc9db0d3","headers":{"host":"localhost:8080","connection":"keep-alive","content-length":"0","cache-control":"no-cache","origin":"chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36","postman-token":"4ff40022-43cd-3179-fceb-0048dc559b18","accept":"*/*","dnt":"1","accept-encoding":"gzip, deflate, br","accept-language":"en-US,en;q=0.8,es-419;q=0.6,es;q=0.4,es-MX;q=0.2"},"httpVersion":"1.1"},"res":{"statusCode":200,"headers":{"x-dns-prefetch-control":"off","x-frame-options":"SAMEORIGIN","strict-transport-security":"max-age=15552000; includeSubDomains","x-download-options":"noopen","x-content-type-options":"nosniff","x-xss-protection":"1; mode=block"}},"msg":"start page request","time":"2017-09-14T02:21:26.731Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82088,"level":40,"err":{"message":"No user found with given token or token expired: undefined","name":"ExpiredToken","stack":"ExpiredToken: No user found with given token or token expired: undefined\n    at appError (/Users/mike/development/teach-learn-api/src/node_modules/local-error-formatter/local-error-formatter.js:43:10)\n    at determineError (/Users/mike/development/teach-learn-api/src/node_modules/local-error-formatter/local-error-formatter.js:149:14)\n    at User.findOne.then.then.catch (/Users/mike/development/teach-learn-api/src/api/auth/auth-controller.js:114:21)\n    at tryCatcher (/Users/mike/development/teach-learn-api/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/Users/mike/development/teach-learn-api/node_modules/bluebird/js/release/promise.js:512:31)\n    at Promise._settlePromise (/Users/mike/development/teach-learn-api/node_modules/bluebird/js/release/promise.js:569:18)\n    at Promise._settlePromise0 (/Users/mike/development/teach-learn-api/node_modules/bluebird/js/release/promise.js:614:10)\n    at Promise._settlePromises (/Users/mike/development/teach-learn-api/node_modules/bluebird/js/release/promise.js:689:18)\n    at Async._drainQueue (/Users/mike/development/teach-learn-api/node_modules/bluebird/js/release/async.js:133:16)\n    at Async._drainQueues (/Users/mike/development/teach-learn-api/node_modules/bluebird/js/release/async.js:143:10)\n    at Immediate.Async.drainQueues (/Users/mike/development/teach-learn-api/node_modules/bluebird/js/release/async.js:17:14)\n    at runCallback (timers.js:672:20)\n    at tryOnImmediate (timers.js:645:5)\n    at processImmediate [as _immediateCallback] (timers.js:617:5)"},"msg":"AUTH-CTRL.CONFIRM-ACCOUNT: No user found with given token or token expired: undefined","time":"2017-09-14T02:21:26.846Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82088,"level":30,"responseTime":"115.721726 ms","msg":"end page request","time":"2017-09-14T02:21:26.847Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82434,"level":30,"port":8080,"env":"development","msg":"Server has been started","time":"2017-09-14T02:23:23.997Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82434,"level":30,"req":{"query":{"confirmToken":"5416c839e996d89dddf6d0b003745233"},"params":{},"method":"POST","url":"/api/auth/confirm-account?confirmToken=5416c839e996d89dddf6d0b003745233","headers":{"host":"localhost:8080","connection":"keep-alive","content-length":"0","cache-control":"no-cache","origin":"chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36","postman-token":"6c67fd7c-a559-b865-3238-1ae7d5a41bc0","accept":"*/*","dnt":"1","accept-encoding":"gzip, deflate, br","accept-language":"en-US,en;q=0.8,es-419;q=0.6,es;q=0.4,es-MX;q=0.2"},"httpVersion":"1.1"},"res":{"statusCode":200,"headers":{"x-dns-prefetch-control":"off","x-frame-options":"SAMEORIGIN","strict-transport-security":"max-age=15552000; includeSubDomains","x-download-options":"noopen","x-content-type-options":"nosniff","x-xss-protection":"1; mode=block"}},"msg":"start page request","time":"2017-09-14T02:23:25.650Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82434,"level":30,"uid":"SkDg-dPwq-","msg":"AUTH-CTRL.CONFIRM-ACCOUNT: Confirming user's account","time":"2017-09-14T02:23:25.763Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82434,"level":30,"uid":"SkDg-dPwq-","msg":"AUTH-CTRL.CONFIRM-ACCOUNT: Account was confirmed","time":"2017-09-14T02:23:25.820Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82434,"level":30,"responseTime":"172.960316 ms","msg":"end page request","time":"2017-09-14T02:23:25.823Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82434,"level":30,"req":{"query":{},"params":{},"method":"POST","url":"/api/auth/login","headers":{"host":"localhost:8080","connection":"keep-alive","content-length":"34","postman-token":"fa2ede59-25e6-3474-cae1-01b4ef8c3f53","cache-control":"no-cache","origin":"chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36","content-type":"application/x-www-form-urlencoded","accept":"*/*","dnt":"1","accept-encoding":"gzip, deflate, br","accept-language":"en-US,en;q=0.8,es-419;q=0.6,es;q=0.4,es-MX;q=0.2"},"httpVersion":"1.1"},"res":{"statusCode":200,"headers":{"x-dns-prefetch-control":"off","x-frame-options":"SAMEORIGIN","strict-transport-security":"max-age=15552000; includeSubDomains","x-download-options":"noopen","x-content-type-options":"nosniff","x-xss-protection":"1; mode=block"}},"msg":"start page request","time":"2017-09-14T02:23:39.705Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82434,"level":30,"uid":"SkDg-dPwq-","msg":"AUTH-CTRL.LOGIN: Found user","time":"2017-09-14T02:23:39.760Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82434,"level":30,"uid":"SkDg-dPwq-","msg":"AUTH-CTRL.LOGIN: Updating user attributes","time":"2017-09-14T02:23:39.869Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82434,"level":30,"uid":"SkDg-dPwq-","msg":"AUTH-CTRL.LOGIN: Logging in user","time":"2017-09-14T02:23:39.904Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82434,"level":30,"responseTime":"199.222854 ms","msg":"end page request","time":"2017-09-14T02:23:39.905Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82434,"level":30,"req":{"query":{},"params":{},"method":"GET","url":"/api/users","headers":{"host":"localhost:8080","connection":"keep-alive","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiJTa0RnLWRQd3EtIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNTA1MzU1ODE5LCJleHAiOjE1MDUzNTk0MTl9.5SgkAkNBpqa3qxDwPICrHS3UNXRRmFCYx70OxFUXrZI","cache-control":"no-cache","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36","postman-token":"769f9241-3182-e22a-cf92-bb669c754647","accept":"*/*","dnt":"1","accept-encoding":"gzip, deflate, br","accept-language":"en-US,en;q=0.8,es-419;q=0.6,es;q=0.4,es-MX;q=0.2"},"httpVersion":"1.1"},"res":{"statusCode":200,"headers":{"x-dns-prefetch-control":"off","x-frame-options":"SAMEORIGIN","strict-transport-security":"max-age=15552000; includeSubDomains","x-download-options":"noopen","x-content-type-options":"nosniff","x-xss-protection":"1; mode=block"}},"msg":"start page request","time":"2017-09-14T02:23:50.984Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82434,"level":30,"msg":"VERIFY-JWT-MIDDLEWARE: Returning token","time":"2017-09-14T02:23:50.990Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82434,"level":30,"uid":"SkDg-dPwq-","msg":"VERIFY-ACCESS-MIDDLEWARE: Authorized","time":"2017-09-14T02:23:50.994Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82434,"level":30,"msg":"USER-CTRL.LIST: Listing all users","time":"2017-09-14T02:23:51.076Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82434,"level":30,"responseTime":"93.936045 ms","msg":"end page request","time":"2017-09-14T02:23:51.077Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82508,"level":30,"port":"8080","env":"development","msg":"Server has been started","time":"2017-09-14T02:24:02.260Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":82508,"level":30,"req":{"query":{},"params":{},"method":"GET","url":"/api/users","headers":{"host":"localhost:8080","connection":"keep-alive","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiJTa0RnLWRQd3EtIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNTA1MzU1ODE5LCJleHAiOjE1MDUzNTk0MTl9.5SgkAkNBpqa3qxDwPICrHS3UNXRRmFCYx70OxFUXrZI","cache-control":"no-cache","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36","postman-token":"d40f06e2-6ff8-4643-fe54-b643e9d4f5c1","accept":"*/*","dnt":"1","accept-encoding":"gzip, deflate, br","accept-language":"en-US,en;q=0.8,es-419;q=0.6,es;q=0.4,es-MX;q=0.2"},"httpVersion":"1.1"},"res":{"statusCode":200,"headers":{"x-dns-prefetch-control":"off","x-frame-options":"SAMEORIGIN","strict-transport-security":"max-age=15552000; includeSubDomains","x-download-options":"noopen","x-content-type-options":"nosniff","x-xss-protection":"1; mode=block"}},"msg":"start page request","time":"2017-09-14T02:24:04.739Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":84702,"level":30,"port":8080,"env":"development","msg":"Server has been started","time":"2017-09-14T02:46:54.470Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":84702,"level":30,"req":{"query":{},"params":{},"method":"POST","url":"/api/auth/login","headers":{"host":"localhost:8080","connection":"keep-alive","content-length":"34","postman-token":"68ab9871-4f32-969e-f7f4-5f5dfe693c7c","cache-control":"no-cache","origin":"chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36","content-type":"application/x-www-form-urlencoded","accept":"*/*","dnt":"1","accept-encoding":"gzip, deflate, br","accept-language":"en-US,en;q=0.8,es-419;q=0.6,es;q=0.4,es-MX;q=0.2"},"httpVersion":"1.1"},"res":{"statusCode":200,"headers":{"x-dns-prefetch-control":"off","x-frame-options":"SAMEORIGIN","strict-transport-security":"max-age=15552000; includeSubDomains","x-download-options":"noopen","x-content-type-options":"nosniff","x-xss-protection":"1; mode=block"}},"msg":"start page request","time":"2017-09-14T02:46:58.500Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":84702,"level":30,"uid":"SkDg-dPwq-","msg":"AUTH-CTRL.LOGIN: Found user","time":"2017-09-14T02:46:58.651Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":84702,"level":30,"uid":"SkDg-dPwq-","msg":"AUTH-CTRL.LOGIN: Updating user attributes","time":"2017-09-14T02:46:58.748Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":84702,"level":30,"uid":"SkDg-dPwq-","msg":"AUTH-CTRL.LOGIN: Logging in user","time":"2017-09-14T02:46:58.813Z","v":0}
{"name":"teach-learn-api","hostname":"mdonahue.local","pid":84702,"level":30,"responseTime":"316.712484 ms","msg":"end page request","time":"2017-09-14T02:46:58.816Z","v":0}
